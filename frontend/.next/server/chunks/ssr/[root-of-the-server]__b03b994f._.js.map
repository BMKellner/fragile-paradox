{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/loganponik/fragile-paradox/frontend/pages/upload.tsx"],"sourcesContent":["import { useState } from \"react\";\n\nexport default function Upload() {\n  const [file, setFile] = useState<File | null>(null);\n  const [resumeData, setResumeData] = useState<object | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = e.target.files?.[0];\n    if (selectedFile) {\n      // Check file type\n      const allowedTypes = ['application/pdf', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];\n      if (!allowedTypes.includes(selectedFile.type)) {\n        setError('Please upload a PDF or DOCX file only.');\n        return;\n      }\n      setFile(selectedFile);\n      setError(null);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!file) {\n      setError('Please select a file to upload.');\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n    setResumeData(null);\n\n    try {\n      // Create FormData to send file\n      const formData = new FormData();\n      formData.append(\"file\", file);\n\n      // Send to backend\n      const response = await fetch(\"http://localhost:8000/parse_resume/\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        setResumeData(data);\n      } else {\n        setError(data.error || 'An error occurred while processing the resume.');\n      }\n    } catch {\n      setError('Failed to connect to the server. Make sure the backend is running.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-10\">\n      <div className=\"text-center mb-10\">\n        <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">Resume Parser</h1>\n        <p className=\"text-lg text-gray-600\">Upload your resume (PDF or DOCX) to extract structured information using AI.</p>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow-lg p-8\">\n        <form onSubmit={handleSubmit} className=\"mb-8\">\n          <div className=\"mb-6\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Choose your resume file\n            </label>\n            <div className=\"relative\">\n              <input\n                type=\"file\"\n                accept=\".pdf,.docx\"\n                onChange={handleFileChange}\n                className=\"w-full p-4 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-400 focus:border-blue-500 focus:outline-none transition-colors cursor-pointer\"\n              />\n            </div>\n            {file && (\n              <p className=\"mt-2 text-sm text-gray-500\">\n                Selected: <span className=\"font-medium\">{file.name}</span> ({(file.size / 1024 / 1024).toFixed(2)} MB)\n              </p>\n            )}\n          </div>\n\n          <button\n            type=\"submit\"\n            disabled={!file || loading}\n            className={`w-full py-3 px-6 rounded-lg font-medium text-white transition-all duration-200 ${\n              loading || !file\n                ? 'bg-gray-400 cursor-not-allowed'\n                : 'bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-200'\n            }`}\n          >\n            {loading ? (\n              <div className=\"flex items-center justify-center\">\n                <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                Processing...\n              </div>\n            ) : (\n              'Parse Resume'\n            )}\n          </button>\n        </form>\n\n        {error && (\n          <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\n            <div className=\"flex\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-red-700\">\n                  <span className=\"font-medium\">Error:</span> {error}\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {resumeData && (\n          <div className=\"mt-8\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Parsed Resume Data</h2>\n            <div className=\"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden\">\n              <pre className=\"p-6 text-sm text-gray-800 overflow-auto max-h-96\">\n                {JSON.stringify(resumeData, null, 2)}\n              </pre>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAc;IAC9C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,+GAAQ,EAAgB;IAC5D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAgB;IAElD,MAAM,mBAAmB,CAAC;QACxB,MAAM,eAAe,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QACxC,IAAI,cAAc;YAChB,kBAAkB;YAClB,MAAM,eAAe;gBAAC;gBAAmB;aAA0E;YACnH,IAAI,CAAC,aAAa,QAAQ,CAAC,aAAa,IAAI,GAAG;gBAC7C,SAAS;gBACT;YACF;YACA,QAAQ;YACR,SAAS;QACX;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM;YACT,SAAS;YACT;QACF;QAEA,WAAW;QACX,SAAS;QACT,cAAc;QAEd,IAAI;YACF,+BAA+B;YAC/B,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,QAAQ;YAExB,kBAAkB;YAClB,MAAM,WAAW,MAAM,MAAM,uCAAuC;gBAClE,QAAQ;gBACR,MAAM;YACR;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,SAAS,EAAE,EAAE;gBACf,cAAc;YAChB,OAAO;gBACL,SAAS,KAAK,KAAK,IAAI;YACzB;QACF,EAAE,OAAM;YACN,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,qKAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;0BAGvC,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAK,UAAU;wBAAc,WAAU;;0CACtC,qKAAC;gCAAI,WAAU;;kDACb,qKAAC;wCAAM,WAAU;kDAA+C;;;;;;kDAGhE,qKAAC;wCAAI,WAAU;kDACb,cAAA,qKAAC;4CACC,MAAK;4CACL,QAAO;4CACP,UAAU;4CACV,WAAU;;;;;;;;;;;oCAGb,sBACC,qKAAC;wCAAE,WAAU;;4CAA6B;0DAC9B,qKAAC;gDAAK,WAAU;0DAAe,KAAK,IAAI;;;;;;4CAAQ;4CAAG,CAAC,KAAK,IAAI,GAAG,OAAO,IAAI,EAAE,OAAO,CAAC;4CAAG;;;;;;;;;;;;;0CAKxG,qKAAC;gCACC,MAAK;gCACL,UAAU,CAAC,QAAQ;gCACnB,WAAW,CAAC,+EAA+E,EACzF,WAAW,CAAC,OACR,mCACA,kEACJ;0CAED,wBACC,qKAAC;oCAAI,WAAU;;sDACb,qKAAC;4CAAI,WAAU;4CAA6C,OAAM;4CAA6B,MAAK;4CAAO,SAAQ;;8DACjH,qKAAC;oDAAO,WAAU;oDAAa,IAAG;oDAAK,IAAG;oDAAK,GAAE;oDAAK,QAAO;oDAAe,aAAY;;;;;;8DACxF,qKAAC;oDAAK,WAAU;oDAAa,MAAK;oDAAe,GAAE;;;;;;;;;;;;wCAC/C;;;;;;2CAIR;;;;;;;;;;;;oBAKL,uBACC,qKAAC;wBAAI,WAAU;kCACb,cAAA,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAI,WAAU;8CACb,cAAA,qKAAC;wCAAI,WAAU;wCAAuB,SAAQ;wCAAY,MAAK;kDAC7D,cAAA,qKAAC;4CAAK,UAAS;4CAAU,GAAE;4CAA0N,UAAS;;;;;;;;;;;;;;;;8CAGlQ,qKAAC;oCAAI,WAAU;8CACb,cAAA,qKAAC;wCAAE,WAAU;;0DACX,qKAAC;gDAAK,WAAU;0DAAc;;;;;;4CAAa;4CAAE;;;;;;;;;;;;;;;;;;;;;;;oBAOtD,4BACC,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,qKAAC;gCAAI,WAAU;0CACb,cAAA,qKAAC;oCAAI,WAAU;8CACZ,KAAK,SAAS,CAAC,YAAY,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQlD","debugId":null}}]
}